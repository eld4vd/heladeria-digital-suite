import{b as q,j as e}from"./tanstack-vendor-C2OWrVrE.js";import{r as p,L as S}from"./react-vendor-DKUHWr44.js";import{f as Q,u as R,a as K,b as Y,c as _,d as J,M as X}from"./index-BWeZxcdB.js";import{u as Z}from"./useCategorias-CUeEX6aL.js";import{z as M}from"./ui-vendor-DZ4uu1AI.js";const ee=["helados"],se=(r={})=>q({queryKey:ee,queryFn:Q,staleTime:12e4,gcTime:3e5,refetchInterval:r.refetchInterval,refetchIntervalInBackground:!1,refetchOnWindowFocus:!0,select:m=>{const n=new Map,o=m.filter(t=>t.activo&&Number(t.stock)>0).map(t=>{const i=t.categoria?.id??t.categoriaId??"sin",w=t.categoria?.nombre??"Otros";return{id:t.id,nombre:t.nombre,descripcion:t.descripcion,sabor:t.sabor,precio:Number(t.precio),stock:Number(t.stock),imagenUrl:t.imagenUrl,categoria:{id:i,nombre:w}}}).sort((t,i)=>t.nombre.localeCompare(i.nombre));for(const t of o)n.has(t.categoria.id)||n.set(t.categoria.id,{id:t.categoria.id,nombre:t.categoria.nombre,items:[]}),n.get(t.categoria.id).items.push(t);const l=Array.from(n.values()).sort((t,i)=>t.nombre.localeCompare(i.nombre)),b=Object.fromEntries(l.map(t=>[String(t.id),t.items.length])),u=Object.fromEntries(l.map(t=>[String(t.id),t]));return{sections:l,flat:o,countsByCategory:b,sectionsById:u}}}),te=({className:r=""})=>e.jsxs("svg",{className:r,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{d:"M15 3H21V9",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M9 21H3V15",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M21 3L14 10",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M3 21L10 14",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),re=({className:r=""})=>e.jsxs("svg",{className:r,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{d:"M18 6L6 18",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M6 6L18 18",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),ae=({producto:r,fullscreen:m=!1,onAddToCart:n,productoAgregandose:o})=>{const l=o===r.id,b=r.stock<=10,u=r.stock<=5;return e.jsx("article",{className:`group relative flex flex-col h-full ${m?"min-h-full":""}`,children:e.jsxs("div",{className:"relative flex flex-col h-full rounded-xl bg-white border border-slate-200/80 shadow-sm hover:shadow-lg hover:border-slate-300 overflow-hidden transition-all duration-300",children:[e.jsxs(S,{to:`/detalle/${r.id}`,className:"relative aspect-[4/3] overflow-hidden bg-slate-50 block group/image",children:[e.jsx("img",{src:r.imagenUrl?.startsWith("http")?r.imagenUrl:"https://placehold.co/600x450/f3f4f6/9ca3af?text=Sin+Imagen",alt:r.nombre,width:600,height:450,loading:"lazy",decoding:"async",className:"w-full h-full object-cover transition-transform duration-500 group-hover/image:scale-105",onError:t=>{t.currentTarget.src="https://placehold.co/600x450/f3f4f6/9ca3af?text=Imagen+No+Disponible"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/40 via-transparent to-transparent opacity-0 group-hover/image:opacity-100 transition-opacity duration-300"}),e.jsx("span",{className:"absolute top-2.5 left-2.5 px-2.5 py-1 rounded-md bg-white/90 backdrop-blur-sm text-[11px] font-semibold text-slate-700 shadow-sm border border-white/40",children:r.categoria.nombre}),u&&e.jsxs("span",{className:"absolute top-2.5 right-2.5 px-2.5 py-1 rounded-md bg-rose-500/90 backdrop-blur-sm text-[11px] font-semibold text-white shadow-sm",children:["¡Solo ",r.stock,"!"]})]}),e.jsxs("div",{className:"flex flex-col flex-1 p-3",children:[e.jsx(S,{to:`/detalle/${r.id}`,className:"block mb-2",children:e.jsx("h3",{className:"text-[15px] font-semibold leading-snug line-clamp-2 text-slate-900 group-hover:text-cyan-600 transition-colors",children:r.nombre})}),e.jsx("div",{className:"mb-3",children:e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded bg-slate-100 text-[11px] font-medium text-slate-600",children:[e.jsx("svg",{className:"h-3 w-3 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})}),r.sabor]})}),e.jsxs("div",{className:"mt-auto flex items-center justify-between gap-2",children:[e.jsxs("span",{className:"text-2xl font-bold text-slate-900 tracking-tight",children:["Bs ",Number(r.precio).toFixed(2)]}),e.jsx("button",{onClick:t=>{t.preventDefault(),t.stopPropagation(),n(r)},disabled:l,className:"inline-flex items-center justify-center gap-1.5 px-3 py-2 rounded-lg bg-cyan-600 hover:bg-cyan-700 active:bg-cyan-800 text-white text-sm font-semibold shadow-sm hover:shadow transition-all disabled:opacity-50 disabled:cursor-not-allowed","aria-label":"Agregar al carrito",children:l?e.jsxs("svg",{className:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):e.jsxs(e.Fragment,{children:[e.jsx(X,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Agregar"})]})})]}),b&&!u&&e.jsxs("p",{className:"mt-2 text-[11px] text-amber-600 font-medium",children:["Stock limitado (",r.stock," unidades)"]})]})]})})},v=({productos:r,fullscreen:m=!1,onAddToCart:n,productoAgregandose:o})=>e.jsx("div",{className:`grid ${m?"grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6 gap-3 sm:gap-4":"grid-cols-1 xs:grid-cols-2 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5 gap-4 sm:gap-5 lg:gap-6"}`,children:r.map(l=>e.jsx(ae,{producto:l,fullscreen:m,onAddToCart:n,productoAgregandose:o},l.id))}),oe=()=>{const{data:r,isLoading:m,error:n,refetch:o}=se({refetchInterval:3e4}),{data:l,isLoading:b,error:u,refetch:t}=Z(),[i,w]=p.useState(null),[a,f]=p.useState("all"),[c,k]=p.useState(!1),[d,z]=p.useState(""),[y,W]=p.useState(""),{clienteTempId:$,carritoId:T,setCarritoId:H}=R(),P=K(),V=Y(),F=_(),{data:D}=J(),G=r?.sections??[],B=r?.sectionsById??{},g=r?.flat??[],I=r?.countsByCategory??{},C=y.trim()?g.filter(s=>s.nombre.toLowerCase().includes(y.toLowerCase())||s.sabor.toLowerCase().includes(y.toLowerCase())):g,N=a==="all"?G:B[String(a)]?[B[String(a)]]:[],O=()=>{o(),t()},j=async s=>{if(i!==s.id){w(s.id);try{let x=T;if(!x){const h=await P.mutateAsync({clienteTempId:$});x=h.id,H(h.id)}if(!x)throw new Error("No se pudo obtener el carrito");const A=Number(s.precio);if(Number.isNaN(A))throw new Error("Precio inválido para el producto");const L=D?.items?.find(h=>h.productoId===s.id);if(L){const h=L.cantidad+1;await F.mutateAsync({id:L.id,cantidad:h}),M.success(`Cantidad actualizada: ${h}`,{duration:2e3})}else{const h=Number((A*1).toFixed(2));await V.mutateAsync({carritoId:x,productoId:s.id,cantidad:1,subtotal:h}),M.success("¡Producto agregado al carrito!",{duration:2e3})}}catch(x){console.error("Error al agregar al carrito:",x),M.error("Error al agregar al carrito")}finally{w(null)}}};if(p.useEffect(()=>{const s=setTimeout(()=>{W(d)},300);return()=>clearTimeout(s)},[d]),p.useEffect(()=>{const s=x=>{x.key==="Escape"&&c&&k(!1)};return window.addEventListener("keydown",s),()=>window.removeEventListener("keydown",s)},[c]),m||b)return e.jsxs("div",{className:"space-y-8",children:[e.jsx("div",{className:"max-w-md mx-auto h-12 bg-slate-200 animate-pulse rounded-xl"}),e.jsx("div",{className:"flex gap-2 overflow-hidden",children:[1,2,3,4,5].map(s=>e.jsx("div",{className:"h-10 w-24 bg-slate-200 animate-pulse rounded-lg flex-shrink-0"},s))}),e.jsx("div",{className:"grid grid-cols-1 xs:grid-cols-2 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5 gap-4 sm:gap-5 lg:gap-6",children:[1,2,3,4,5,6,7,8].map(s=>e.jsxs("div",{className:"rounded-xl bg-white border border-slate-200 overflow-hidden",children:[e.jsx("div",{className:"aspect-[4/3] bg-slate-200 animate-pulse"}),e.jsxs("div",{className:"p-3 space-y-2",children:[e.jsx("div",{className:"h-4 bg-slate-200 animate-pulse rounded"}),e.jsx("div",{className:"h-4 bg-slate-200 animate-pulse rounded w-3/4"}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("div",{className:"h-8 w-20 bg-slate-200 animate-pulse rounded-lg"}),e.jsx("div",{className:"h-8 w-16 bg-slate-200 animate-pulse rounded-lg"})]})]})]},s))})]});if(n||u)return e.jsxs("div",{className:"flex flex-col items-center justify-center py-24 gap-6 rounded-[24px] border border-red-200 bg-red-50 p-8",children:[e.jsx("svg",{className:"h-16 w-16 text-red-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("p",{className:"text-lg font-bold text-red-700",children:"Error al cargar el menú"}),e.jsx("p",{className:"text-sm text-red-600",children:"No pudimos cargar los productos. Intenta nuevamente."})]}),e.jsxs("button",{onClick:O,className:"inline-flex items-center gap-2 px-6 py-3 rounded-xl bg-gradient-to-br from-red-600 to-red-700 text-white font-bold shadow-lg shadow-red-200/50 transition-all duration-200 hover:shadow-xl hover:scale-[1.02] active:scale-[0.98] focus:outline-none focus-visible:ring-2 focus-visible:ring-red-500",children:[e.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Reintentar"]})]});if(!r||r.flat.length===0)return e.jsxs("div",{className:"flex flex-col items-center justify-center py-24 gap-4 rounded-[24px] border border-slate-200 bg-slate-50 p-8",children:[e.jsx("svg",{className:"h-16 w-16 text-slate-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})}),e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("p",{className:"text-lg font-bold text-slate-700",children:"Sin productos disponibles"}),e.jsx("p",{className:"text-sm text-slate-500",children:"No hay productos para mostrar en este momento."})]})]});const U=e.jsxs("div",{className:c?"space-y-4":"space-y-8",children:[!c&&e.jsxs("div",{className:"relative max-w-md mx-auto",children:[e.jsx("input",{type:"text",placeholder:"Buscar helados por nombre o sabor...",value:d,onChange:s=>z(s.target.value),className:"w-full px-4 py-3 pl-11 pr-10 rounded-xl border border-slate-200 bg-white text-slate-900 placeholder:text-slate-400 focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20 transition-all duration-200 text-sm"}),e.jsx("svg",{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),d&&e.jsx("button",{onClick:()=>z(""),className:"absolute right-3 top-1/2 -translate-y-1/2 p-1 hover:bg-slate-100 rounded-full transition-colors","aria-label":"Limpiar búsqueda",children:e.jsx("svg",{className:"w-4 h-4 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),!c&&d&&d!==y&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-500",children:[e.jsxs("svg",{className:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Buscando..."]}),!c&&!d&&e.jsx("div",{className:"sticky top-[calc(4rem+1px)] z-30 rounded-xl border border-cyan-100 bg-gradient-to-b from-white to-cyan-50/30 backdrop-blur-xl shadow-lg shadow-cyan-100/50 px-4 py-4",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-8 bg-gradient-to-r from-white to-transparent pointer-events-none z-10 rounded-l-lg"}),e.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-8 bg-gradient-to-l from-cyan-50/30 to-transparent pointer-events-none z-10 rounded-r-lg"}),e.jsxs("div",{className:"flex gap-2 overflow-x-auto scroll-smooth scrollbar-thin pb-1",role:"tablist","aria-label":"Categorías de productos",children:[e.jsx(E,{active:a==="all",label:"Todo",count:g.length,onClick:()=>f("all")}),l?.list.map(s=>{const x=I[String(s.id)]??0;return e.jsx(E,{active:a===s.id,label:s.nombre,count:x,onClick:()=>f(s.id)},s.id)})]})]})}),d&&e.jsxs("section",{className:"space-y-5",children:[e.jsxs("div",{className:"flex items-center justify-between px-1 pb-3 border-b border-slate-200",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("h2",{className:"text-2xl md:text-3xl font-bold tracking-tight bg-gradient-to-r from-cyan-600 to-cyan-700 bg-clip-text text-transparent",children:"Resultados de búsqueda"}),e.jsxs("p",{className:"text-sm text-slate-600",children:['"',d,'"']})]}),e.jsxs("span",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-xl bg-gradient-to-br from-cyan-50 to-cyan-100 border border-cyan-200 text-sm font-bold text-cyan-700 shadow-md",children:[e.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})}),C.length]})]}),C.length>0?e.jsx(v,{productos:C,fullscreen:c,onAddToCart:j,productoAgregandose:i}):e.jsxs("div",{className:"flex flex-col items-center justify-center py-12 gap-4 rounded-xl bg-slate-50 border border-slate-200",children:[e.jsx("svg",{className:"h-12 w-12 text-slate-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),e.jsxs("p",{className:"text-sm text-slate-600",children:['No se encontraron resultados para "',d,'"']})]})]},"search"),a==="all"&&!d&&e.jsxs("section",{className:"space-y-5",children:[e.jsxs("div",{className:"flex items-center justify-between px-1 pb-3 border-b border-slate-200",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("h2",{className:"text-2xl md:text-3xl font-bold tracking-tight bg-gradient-to-r from-cyan-600 to-cyan-700 bg-clip-text text-transparent",children:"Todos los sabores"}),e.jsx("p",{className:"text-sm text-slate-600",children:"Descubre nuestra colección completa"})]}),e.jsxs("span",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-xl bg-gradient-to-br from-cyan-50 to-cyan-100 border border-cyan-200 text-sm font-bold text-cyan-700 shadow-md",children:[e.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})}),g.length]})]}),e.jsx(v,{productos:g,fullscreen:c,onAddToCart:j,productoAgregandose:i})]},"all"),a!=="all"&&!d&&N.map(s=>e.jsxs("section",{className:"space-y-5",children:[e.jsxs("div",{className:"flex items-center justify-between px-1 pb-3 border-b border-slate-200",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("h2",{className:"text-2xl md:text-3xl font-bold tracking-tight bg-gradient-to-r from-cyan-600 to-cyan-700 bg-clip-text text-transparent",children:s.nombre}),e.jsxs("p",{className:"text-sm text-slate-600",children:[s.items.length," productos disponibles"]})]}),e.jsxs("button",{onClick:()=>f("all"),className:"inline-flex items-center gap-2 px-4 py-2 rounded-xl border border-cyan-200 bg-gradient-to-br from-cyan-50 to-cyan-100 text-sm font-bold text-cyan-700 transition-all duration-200 hover:from-cyan-100 hover:to-cyan-200 hover:border-cyan-300 hover:shadow-lg hover:scale-[1.02] active:scale-[0.98] focus:outline-none focus-visible:ring-2 focus-visible:ring-cyan-500 focus-visible:ring-offset-2","aria-label":"Ver todos los productos",children:["Ver todo",e.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 5l7 7-7 7M5 5l7 7-7 7"})})]})]}),e.jsx(v,{productos:s.items,fullscreen:c,onAddToCart:j,productoAgregandose:i})]},s.id))]});return c?e.jsxs("div",{className:"fixed inset-0 z-50 bg-gradient-to-b from-slate-50 to-slate-100 overflow-y-auto",children:[e.jsx("div",{className:"sticky top-0 z-50 bg-white/98 backdrop-blur-xl border-b-2 border-cyan-100 shadow-lg",children:e.jsxs("div",{className:"max-w-screen-2xl mx-auto px-4 py-4",children:[e.jsxs("div",{className:"flex items-center justify-between gap-4 mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 rounded-xl bg-gradient-to-br from-cyan-600 to-cyan-700 flex items-center justify-center shadow-lg shadow-cyan-500/30",children:e.jsx("svg",{className:"h-6 w-6 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M3 1a1 1 0 000 2h1.22l.305 1.222a.997.997 0 00.01.042l1.358 5.43-.893.892C3.74 11.846 4.632 14 6.414 14H15a1 1 0 000-2H6.414l1-1H14a1 1 0 00.894-.553l3-6A1 1 0 0017 3H6.28l-.31-1.243A1 1 0 005 1H3zM16 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM6.5 18a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"})})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-bold text-slate-800",children:"Galería Completa"}),e.jsx("p",{className:"text-xs text-slate-500",children:a==="all"?`${g.length} productos`:`${N[0]?.items.length||0} en ${N[0]?.nombre||""}`})]})]}),e.jsxs("button",{onClick:()=>k(!1),className:"flex-shrink-0 inline-flex items-center gap-2 px-4 py-2 rounded-xl border-2 border-slate-200 bg-white text-slate-700 font-bold text-sm transition-all duration-200 hover:bg-slate-50 hover:border-slate-300 hover:shadow-md focus:outline-none focus-visible:ring-2 focus-visible:ring-cyan-500","aria-label":"Cerrar galería completa (ESC)",children:[e.jsx(re,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Cerrar"}),e.jsx("kbd",{className:"hidden md:inline-flex px-2 py-0.5 text-xs bg-slate-100 rounded border border-slate-300",children:"ESC"})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-12 bg-gradient-to-r from-white via-white/80 to-transparent pointer-events-none z-10 rounded-l-xl"}),e.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-12 bg-gradient-to-l from-white via-white/80 to-transparent pointer-events-none z-10 rounded-r-xl"}),e.jsxs("div",{className:"flex gap-2 overflow-x-auto scroll-smooth scrollbar-thin pb-2 px-1",children:[e.jsxs("button",{onClick:()=>f("all"),className:`flex-shrink-0 inline-flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-bold transition-all duration-200 whitespace-nowrap border-2 ${a==="all"?"bg-gradient-to-br from-cyan-600 to-cyan-700 text-white border-cyan-600 shadow-lg shadow-cyan-500/30":"bg-white hover:bg-cyan-50 text-slate-700 border-slate-200 hover:border-cyan-300 hover:shadow-md"}`,children:["Todo",e.jsx("span",{className:`inline-flex items-center justify-center min-w-[20px] h-5 px-1.5 rounded-md text-xs font-extrabold ${a==="all"?"bg-white/25 text-white":"bg-slate-100 text-slate-600"}`,children:g.length})]}),l?.list.map(s=>{const x=I[String(s.id)]??0;return e.jsxs("button",{onClick:()=>f(s.id),className:`flex-shrink-0 inline-flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-bold transition-all duration-200 whitespace-nowrap border-2 ${a===s.id?"bg-gradient-to-br from-cyan-600 to-cyan-700 text-white border-cyan-600 shadow-lg shadow-cyan-500/30":"bg-white hover:bg-cyan-50 text-slate-700 border-slate-200 hover:border-cyan-300 hover:shadow-md"}`,children:[s.nombre,e.jsx("span",{className:`inline-flex items-center justify-center min-w-[20px] h-5 px-1.5 rounded-md text-xs font-extrabold ${a===s.id?"bg-white/25 text-white":"bg-slate-100 text-slate-600"}`,children:x})]},s.id)})]})]})]})}),e.jsxs("div",{className:"max-w-screen-2xl mx-auto px-4 py-4",children:[a==="all"&&e.jsx("section",{className:"space-y-4",children:e.jsx(v,{productos:g,fullscreen:c,onAddToCart:j,productoAgregandose:i})},"all"),a!=="all"&&N.map(s=>e.jsx("section",{className:"space-y-4",children:e.jsx(v,{productos:s.items,fullscreen:c,onAddToCart:j,productoAgregandose:i})},s.id))]})]}):e.jsxs("div",{className:"relative",children:[U,e.jsxs("button",{onClick:()=>k(!0),className:"fixed bottom-8 left-4 sm:left-8 z-40 group inline-flex items-center gap-2 sm:gap-3 px-4 sm:px-6 py-2.5 sm:py-3 rounded-xl bg-gradient-to-br from-cyan-600 to-cyan-700 text-white font-bold shadow-xl shadow-cyan-500/30 hover:shadow-2xl hover:shadow-cyan-500/40 transition-all duration-300 hover:scale-[1.05] active:scale-95 focus:outline-none focus-visible:ring-2 focus-visible:ring-cyan-500 focus-visible:ring-offset-2","aria-label":"Ver galería en pantalla completa",title:"Presiona para ver la galería completa",children:[e.jsx(te,{className:"w-4 h-4 sm:w-5 sm:h-5"}),e.jsx("span",{className:"text-xs sm:text-sm hidden sm:inline",children:"Ver Galería Completa"}),e.jsx("span",{className:"text-xs sm:hidden",children:"Galería"})]})]})},E=({active:r,label:m,onClick:n,count:o})=>e.jsxs("button",{onClick:n,role:"tab","aria-selected":r,"aria-label":`${m}${o!==void 0?` (${o} productos)`:""}`,className:`group flex-shrink-0 inline-flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-bold transition-all duration-200 whitespace-nowrap border focus:outline-none focus-visible:ring-2 focus-visible:ring-cyan-500 focus-visible:ring-offset-2
      ${r?"bg-cyan-600 text-white border-cyan-600 shadow-lg shadow-cyan-500/30":"bg-white hover:bg-cyan-50 text-slate-700 border-slate-200 hover:border-cyan-300 hover:shadow-md hover:scale-[1.02] active:scale-[0.98]"}
    `,children:[m,o!==void 0&&e.jsx("span",{className:`inline-flex items-center justify-center min-w-[20px] h-5 px-1.5 rounded-md text-xs font-extrabold transition-colors ${r?"bg-white/25 text-white":"bg-slate-100 text-slate-600 group-hover:bg-cyan-100 group-hover:text-cyan-700"}`,children:o})]}),xe=()=>e.jsx("div",{className:"mx-auto max-w-screen-2xl px-3 sm:px-4 md:px-6 lg:px-8 py-4 md:py-6 lg:py-8 space-y-5",children:e.jsx(oe,{})});export{xe as default};
