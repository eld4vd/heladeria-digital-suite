import{a as M,u as B,b as K,j as e}from"./tanstack-vendor-DiYFLyoF.js";import{r}from"./react-vendor-DKUHWr44.js";import{p as A,I as G}from"./index-5lR9YcIV.js";import{z as q}from"./ui-vendor-DZ4uu1AI.js";const R=({abierto:i,onCerrar:n})=>{const a=M(),[j,N]=r.useState(""),[c,y]=r.useState(""),[w,d]=r.useState(""),[u,m]=r.useState(""),[b,p]=r.useState(0),[h,f]=r.useState(""),[k,C]=r.useState(!0),[x,l]=r.useState(""),[g,t]=r.useState(""),[S,v]=r.useState(null),{data:E,isLoading:F,error:L}=B({queryKey:["categorias"],queryFn:G.getCategorias}),z=r.useMemo(()=>(E||[]).filter(o=>o.activo),[E]);r.useEffect(()=>{i&&(N(""),y(""),d(""),m(""),p(0),f(""),C(!0),l(""),t(""),v(null))},[i]);const P=K({mutationFn:A.createProducto,onSuccess:()=>{a.invalidateQueries({queryKey:["productos"]}),n(),q.success("Producto creado con éxito",{style:{background:"#ECFDF5",color:"#065F46",border:"1px solid #A7F3D0"}})},onError:o=>{q.error(`Error al crear el producto: ${o.message}`,{style:{background:"#FEE2E2",color:"#991B1B",border:"1px solid #FECACA"}})}}),I=()=>j.trim().length<3?"El nombre debe tener al menos 3 caracteres":w.trim().length<2?"El sabor es requerido":!u||isNaN(Number(u))||Number(u)<=0?"Precio inválido":b<0?"El stock no puede ser negativo":h?"":"Selecciona una categoría",D=o=>{o.preventDefault();const s=I();if(s){q.error(s,{style:{background:"#FEF3C7",color:"#92400E",border:"1px solid #FDE68A"}});return}const U={nombre:j.trim(),descripcion:c?c.trim():null,sabor:w.trim(),precio:Number(Number(u).toFixed(2)),stock:Number(b),imagenUrl:x?x.trim():null,categoriaId:Number(h),activo:k};P.mutate(U)};return i?e.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-2xl shadow-xl max-h-[90vh] flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b sticky top-0 bg-white z-10",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Agregar producto"}),e.jsx("button",{onClick:n,className:"text-gray-500 hover:text-gray-700 text-2xl","aria-label":"Cerrar",children:"×"})]}),e.jsx("div",{className:"p-6 overflow-y-auto flex-1",children:e.jsxs("form",{id:"form-producto",onSubmit:D,className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre *"}),e.jsx("input",{value:j,onChange:o=>N(o.target.value),className:"w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-indigo-200",placeholder:"Ej. Helado de Chocolate",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sabor *"}),e.jsx("input",{value:w,onChange:o=>d(o.target.value),className:"w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-indigo-200",placeholder:"Ej. Chocolate",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Precio *"}),e.jsx("input",{type:"number",step:"0.01",min:"0",value:u,onChange:o=>m(o.target.value),className:"w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-indigo-200",placeholder:"0.00",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Stock *"}),e.jsx("input",{type:"number",min:0,value:b,onChange:o=>p(Number(o.target.value)),className:"w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-indigo-200",placeholder:"0",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Categoría *"}),e.jsxs("select",{value:h,onChange:o=>f(o.target.value?Number(o.target.value):""),className:"w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-indigo-200 bg-white",required:!0,children:[e.jsx("option",{value:"",disabled:!0,children:F?"Cargando...":"Selecciona una categoría"}),L&&e.jsx("option",{value:"",disabled:!0,children:"Error al cargar"}),z.map(o=>e.jsx("option",{value:o.id,children:o.nombre},o.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estado"}),e.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-gray-700",children:[e.jsx("input",{type:"checkbox",className:"rounded border-gray-300",checked:k,onChange:o=>C(o.target.checked)}),"Activo"]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripción"}),e.jsx("textarea",{value:c,onChange:o=>y(o.target.value),rows:3,className:"w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-indigo-200",placeholder:"Descripción breve del producto"})]}),e.jsxs("div",{className:"md:col-span-2 grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"URL de imagen"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{value:x,onChange:o=>l(o.target.value),className:"w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-indigo-200",placeholder:"https://ejemplo.com/imagen.jpg"}),e.jsx("button",{type:"button",onClick:()=>{v(null),t(x.trim())},className:"px-3 py-2 bg-gray-100 rounded-md border hover:bg-gray-200 text-sm",title:"Cargar vista previa",children:"Cargar"})]}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Usa una URL pública (ej. CDN/Cloudinary/Imgur directo con extensión). Campo opcional."}),S&&e.jsx("p",{className:"mt-1 text-xs text-red-600",children:S})]}),e.jsx("div",{className:"border rounded-md overflow-hidden aspect-square bg-gray-50 flex items-center justify-center",children:g?e.jsx("img",{src:g,alt:"previsualización",className:"w-full h-full object-cover",onError:()=>v("No se pudo cargar la imagen. Verifica que el enlace sea directo a un archivo .jpg/.png/.webp.")}):e.jsx("span",{className:"text-xs text-gray-400",children:"Sin vista previa"})})]})]})}),e.jsxs("div",{className:"px-6 py-4 border-t sticky bottom-0 bg-white z-10 flex justify-end gap-3",children:[e.jsx("button",{type:"button",onClick:n,className:"px-5 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:"Cancelar"}),e.jsx("button",{type:"submit",form:"form-producto",disabled:P.isPending,className:"px-5 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-60",children:P.isPending?"Guardando...":"Guardar"})]})]})}):null},$=({abierto:i,onCerrar:n,producto:a})=>{const j=M(),[N,c]=r.useState(a.nombre),[y,w]=r.useState(a.descripcion??""),[d,u]=r.useState(a.sabor),[m,b]=r.useState(String(a.precio)),[p,h]=r.useState(a.stock),[f,k]=r.useState(a.categoriaId||(a.categoria?.id??"")),[C,x]=r.useState(a.activo),[l,g]=r.useState(a.imagenUrl||""),[t,S]=r.useState(a.imagenUrl||""),[v,E]=r.useState(null),{data:F,isLoading:L,error:z}=B({queryKey:["categorias"],queryFn:G.getCategorias}),P=r.useMemo(()=>(F||[]).filter(s=>s.activo),[F]);r.useEffect(()=>{i&&(c(a.nombre),w(a.descripcion??""),u(a.sabor),b(String(a.precio)),h(a.stock),k(a.categoriaId||(a.categoria?.id??"")),x(a.activo),g(a.imagenUrl||""),S(a.imagenUrl||""),E(null))},[i,a]);const I=K({mutationFn:s=>A.updateProducto(a.id,s),onSuccess:()=>{j.invalidateQueries({queryKey:["productos"]}),n(),q.success("Producto actualizado",{style:{background:"#ECFDF5",color:"#065F46",border:"1px solid #A7F3D0"}})},onError:s=>{q.error(`Error al actualizar: ${s.message}`)}}),D=()=>N.trim().length<3?"El nombre debe tener al menos 3 caracteres":d.trim().length<2?"El sabor es requerido":!m||isNaN(Number(m))||Number(m)<=0?"Precio inválido":p<0?"El stock no puede ser negativo":f?"":"Selecciona una categoría",o=s=>{s.preventDefault();const U=D();if(U){q.error(U);return}const Q={nombre:N.trim(),descripcion:y?y.trim():null,sabor:d.trim(),precio:Number(Number(m).toFixed(2)),stock:Number(p),imagenUrl:l?l.trim():null,categoriaId:Number(f),activo:C};I.mutate(Q)};return i?e.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-2xl shadow-xl max-h-[90vh] flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b sticky top-0 bg-white z-10",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Editar producto"}),e.jsx("button",{onClick:n,className:"text-gray-500 hover:text-gray-700 text-2xl","aria-label":"Cerrar",children:"×"})]}),e.jsx("div",{className:"p-6 overflow-y-auto flex-1",children:e.jsxs("form",{id:"form-producto-editar",onSubmit:o,className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre *"}),e.jsx("input",{value:N,onChange:s=>c(s.target.value),className:"w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-indigo-200",placeholder:"Ej. Helado de Chocolate",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sabor *"}),e.jsx("input",{value:d,onChange:s=>u(s.target.value),className:"w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-indigo-200",placeholder:"Ej. Chocolate",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Precio *"}),e.jsx("input",{type:"number",step:"0.01",min:"0",value:m,onChange:s=>b(s.target.value),className:"w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-indigo-200",placeholder:"0.00",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Stock *"}),e.jsx("input",{type:"number",min:0,value:p,onChange:s=>h(Number(s.target.value)),className:"w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-indigo-200",placeholder:"0",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Categoría *"}),e.jsxs("select",{value:f,onChange:s=>k(s.target.value?Number(s.target.value):""),className:"w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-indigo-200 bg-white",required:!0,children:[e.jsx("option",{value:"",disabled:!0,children:L?"Cargando...":"Selecciona una categoría"}),z&&e.jsx("option",{value:"",disabled:!0,children:"Error al cargar"}),P.map(s=>e.jsx("option",{value:s.id,children:s.nombre},s.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estado"}),e.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-gray-700",children:[e.jsx("input",{type:"checkbox",className:"rounded border-gray-300",checked:C,onChange:s=>x(s.target.checked)}),"Activo"]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripción"}),e.jsx("textarea",{value:y,onChange:s=>w(s.target.value),rows:3,className:"w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-indigo-200",placeholder:"Descripción breve del producto"})]}),e.jsxs("div",{className:"md:col-span-2 grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"URL de imagen"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{value:l,onChange:s=>g(s.target.value),className:"w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-indigo-200",placeholder:"https://ejemplo.com/imagen.jpg"}),e.jsx("button",{type:"button",onClick:()=>{E(null),S(l.trim())},className:"px-3 py-2 bg-gray-100 rounded-md border hover:bg-gray-200 text-sm",title:"Cargar vista previa",children:"Cargar"})]}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Usa una URL pública (opcional). Si es Imgur, usa i.imgur.com con extensión .jpg/.png."}),v&&e.jsx("p",{className:"mt-1 text-xs text-red-600",children:v})]}),e.jsx("div",{className:"border rounded-md overflow-hidden aspect-square bg-gray-50 flex items-center justify-center",children:t?e.jsx("img",{src:t,alt:"previsualización",className:"w-full h-full object-cover",onError:()=>E("No se pudo cargar la imagen. Verifica que el enlace sea directo a un archivo .jpg/.png/.webp.")}):e.jsx("span",{className:"text-xs text-gray-400",children:"Sin vista previa"})})]})]})}),e.jsxs("div",{className:"px-6 py-4 border-t sticky bottom-0 bg-white z-10 flex justify-end gap-3",children:[e.jsx("button",{type:"button",onClick:n,className:"px-5 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:"Cancelar"}),e.jsx("button",{type:"submit",form:"form-producto-editar",disabled:I.isPending,className:"px-5 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-60",children:I.isPending?"Guardando...":"Guardar cambios"})]})]})}):null},H=i=>new Intl.NumberFormat("es-BO",{style:"currency",currency:"BOB"}).format(typeof i=="string"?Number(i):i),T=()=>{const i=M(),[n,a]=r.useState(null),[j,N]=r.useState(""),[c,y]=r.useState(!0),[w,d]=r.useState(!1),[u,m]=r.useState(new Set),[b,p]=r.useState(!1),[h,f]=r.useState(null),{data:k,isLoading:C,error:x}=B({queryKey:["productos"],queryFn:A.getProductos,refetchInterval:5e3,refetchIntervalInBackground:!0}),l=K({mutationFn:t=>A.deleteProducto(t),onSuccess:()=>{i.invalidateQueries({queryKey:["productos"]}),a(null)}}),g=(k||[]).filter(t=>c?t.activo:!0).filter(t=>[t.nombre,t.sabor,t.descripcion||"",t.categoria?.nombre].join(" ").toLowerCase().includes(j.toLowerCase()));return C?e.jsx("div",{className:"p-8 text-sm text-slate-500",children:"Cargando productos..."}):x?e.jsxs("div",{className:"p-6 rounded-[22px] border border-red-200 bg-red-50 text-sm text-red-700 shadow-sm",children:[e.jsx("span",{className:"font-semibold",children:"Error:"})," ",x.message]}):e.jsxs("div",{className:"w-full space-y-6",children:[e.jsxs("div",{className:"flex flex-col gap-5 rounded-[28px] border border-slate-200/80 bg-white p-7 lg:p-8 shadow-lg shadow-slate-200/50",children:[e.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold uppercase tracking-[0.3em] text-slate-400 leading-none",children:"Inventario"}),e.jsx("h2",{className:"mt-2.5 text-2xl lg:text-3xl font-bold text-slate-900 tracking-tight",children:"Gestión de productos"}),e.jsx("p",{className:"mt-2 text-sm text-slate-600 leading-relaxed",children:"Controla disponibilidad, stock y precios de cada helado desde una vista completa."})]}),e.jsx("button",{onClick:()=>d(!0),className:"inline-flex items-center justify-center rounded-xl bg-gradient-to-br from-indigo-600 to-indigo-700 px-6 py-3 text-sm font-bold text-white shadow-lg shadow-indigo-200/50 transition-all duration-200 hover:shadow-xl hover:scale-[1.02] active:scale-[0.98] focus:outline-none focus-visible:ring-2 focus-visible:ring-indigo-500 focus-visible:ring-offset-2",children:"+ Nuevo producto"})]}),e.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between border-t border-slate-100 pt-5",children:[e.jsxs("label",{className:"flex items-center gap-2.5 text-sm font-semibold text-slate-700 cursor-pointer group",children:[e.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-300 text-indigo-600 focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition cursor-pointer",checked:c,onChange:t=>y(t.target.checked)}),e.jsx("span",{className:"group-hover:text-slate-900 transition",children:"Solo activos"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{value:j,onChange:t=>N(t.target.value),className:"w-full rounded-xl border border-slate-200 px-4 py-2.5 text-sm shadow-sm focus:border-indigo-300 focus:outline-none focus:ring-2 focus:ring-indigo-100 transition-all sm:w-80",placeholder:"Buscar por nombre, sabor o categoría..."}),e.jsxs("div",{className:"text-xs font-semibold text-slate-500",children:[g.length," ",g.length===1?"producto":"productos"]})]})]})]}),e.jsx("div",{className:"overflow-hidden rounded-[26px] border border-slate-200/80 bg-white shadow-lg shadow-slate-200/50",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[e.jsx("thead",{className:"bg-gradient-to-br from-slate-50 to-slate-100/60",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-bold uppercase tracking-[0.25em] text-slate-500",children:"Producto"}),e.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-bold uppercase tracking-[0.25em] text-slate-500",children:"Categoría"}),e.jsx("th",{className:"px-6 py-4 text-right text-[10px] font-bold uppercase tracking-[0.25em] text-slate-500",children:"Precio"}),e.jsx("th",{className:"px-6 py-4 text-center text-[10px] font-bold uppercase tracking-[0.25em] text-slate-500",children:"Stock"}),e.jsx("th",{className:"px-6 py-4 text-center text-[10px] font-bold uppercase tracking-[0.25em] text-slate-500",children:"Estado"}),e.jsx("th",{className:"px-6 py-4 text-right text-[10px] font-bold uppercase tracking-[0.25em] text-slate-500",children:"Acciones"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100 bg-white",children:g.map(t=>e.jsxs("tr",{className:"group transition-all duration-200 hover:bg-slate-50/80",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"relative h-16 w-16 flex-shrink-0 overflow-hidden rounded-xl border border-slate-200 bg-slate-100",children:t.imagenUrl&&!u.has(t.id)?e.jsx("img",{src:t.imagenUrl,alt:t.nombre,className:"h-full w-full object-cover transition group-hover:scale-105",onError:()=>m(S=>{const v=new Set(S);return v.add(t.id),v})}):e.jsx("div",{className:"flex h-full w-full items-center justify-center text-slate-400",children:e.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h3",{className:"text-sm font-bold text-slate-900 truncate group-hover:text-indigo-600 transition",children:t.nombre}),t.sabor&&e.jsx("p",{className:"mt-0.5 text-xs text-slate-500 truncate",children:t.sabor}),t.descripcion&&e.jsx("p",{className:"mt-1 text-xs text-slate-500 line-clamp-1",children:t.descripcion})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"inline-flex items-center rounded-lg bg-slate-100 px-2.5 py-1 text-xs font-semibold text-slate-700",children:t.categoria?.nombre||"Sin categoría"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:e.jsx("span",{className:"text-sm font-bold text-slate-900",children:H(t.precio)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:e.jsxs("div",{className:"inline-flex flex-col items-center gap-1",children:[e.jsx("span",{className:`text-base font-bold ${Number(t.stock)===0?"text-rose-600":Number(t.stock)<=5?"text-amber-600":"text-slate-900"}`,children:t.stock}),Number(t.stock)<=5&&Number(t.stock)>0&&e.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider text-amber-600",children:"Bajo"}),Number(t.stock)===0&&e.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider text-rose-600",children:"Agotado"})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:e.jsx("span",{className:`inline-flex px-3 py-1.5 rounded-full text-xs font-bold shadow-sm ${t.activo?"bg-emerald-100 text-emerald-800 border border-emerald-200":"bg-rose-100 text-rose-800 border border-rose-200"}`,children:t.activo?"Activo":"Inactivo"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx("button",{onClick:()=>{f(t),p(!0)},className:"rounded-xl border border-slate-200 bg-white px-4 py-2 text-xs font-bold text-slate-700 shadow-sm transition-all duration-200 hover:border-indigo-300 hover:bg-indigo-50 hover:text-indigo-700 hover:shadow-md focus:outline-none focus-visible:ring-2 focus-visible:ring-indigo-500",children:"Editar"}),e.jsx("button",{onClick:()=>a(t.id),className:"rounded-xl border border-rose-200 bg-white px-4 py-2 text-xs font-bold text-rose-700 shadow-sm transition-all duration-200 hover:bg-rose-50 hover:shadow-md focus:outline-none focus-visible:ring-2 focus-visible:ring-rose-500",children:"Eliminar"})]})})]},t.id))})]})})}),g.length===0&&e.jsx("div",{className:"rounded-[26px] border border-slate-200/80 bg-white p-12 text-center shadow-lg shadow-slate-200/50",children:e.jsxs("div",{className:"mx-auto max-w-sm",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})}),e.jsx("p",{className:"mt-4 text-base font-semibold text-slate-700",children:"No hay productos para mostrar"}),e.jsx("p",{className:"mt-2 text-sm text-slate-500",children:c?"No hay productos activos. Desactiva el filtro o agrega nuevos productos.":"Comienza agregando tu primer producto al inventario."}),e.jsx("button",{onClick:()=>d(!0),className:"mt-6 inline-flex items-center justify-center rounded-xl bg-gradient-to-br from-indigo-600 to-indigo-700 px-6 py-3 text-sm font-bold text-white shadow-lg shadow-indigo-200/50 transition-all duration-200 hover:shadow-xl hover:scale-[1.02] active:scale-[0.98]",children:"+ Agregar primer producto"})]})}),n!==null&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/40 backdrop-blur-sm px-4",children:e.jsxs("div",{className:"w-full max-w-md rounded-[22px] border border-slate-200 bg-white p-7 shadow-2xl",children:[e.jsx("h3",{className:"text-xl font-bold text-slate-900",children:"Confirmar eliminación"}),e.jsx("p",{className:"mt-3 text-sm text-slate-600 leading-relaxed",children:"Esta acción eliminará el producto permanentemente del inventario."}),e.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[e.jsx("button",{onClick:()=>a(null),className:"rounded-xl border border-slate-200 bg-white px-5 py-2.5 text-sm font-bold text-slate-700 shadow-sm transition-all duration-200 hover:bg-slate-50 hover:shadow-md focus:outline-none focus-visible:ring-2 focus-visible:ring-slate-400",children:"Cancelar"}),e.jsx("button",{onClick:()=>l.mutate(n),disabled:l.isPending,className:"rounded-xl bg-gradient-to-br from-rose-600 to-rose-700 px-5 py-2.5 text-sm font-bold text-white shadow-lg shadow-rose-200/50 transition-all duration-200 hover:shadow-xl disabled:opacity-60 focus:outline-none focus-visible:ring-2 focus-visible:ring-rose-500",children:l.isPending?"Eliminando...":"Eliminar"})]})]})}),e.jsx(R,{abierto:w,onCerrar:()=>d(!1)}),b&&h&&e.jsx($,{abierto:b,onCerrar:()=>{p(!1),f(null)},producto:h})]})};export{T as default};
