########################################
# Entorno de DESARROLLO LOCAL (.env.local)
# Usa este archivo cuando corras NestJS fuera de contenedores.
########################################

# --- Servidor ---
PORT=3000
NODE_ENV=development
HOST=127.0.0.1                    # Restringe al loopback para evitar warnings en Windows/WSL

# --- Base de datos ---
DB_HOST=localhost                 # Cambia si tu Postgres corre en otro host o puerto
DB_PORT=5432
DB_USERNAME=postgres
DB_PASSWORD=123456
DB_NAME=heladeria_db
DB_SYNCHRONIZE=true               # Dev más cómodo: crea/actualiza tablas automáticamente
DB_LOGGING=true                   # Habilita logs SQL para depurar consultas en local

# --- Orígenes (CORS) ---
FRONTEND_URL=http://localhost:5173

# --- JWT ---
JWT_ACCESS_SECRET=sk_3Vf7pQ9rXzJt6bN1aWm2fK4vH8qT9uC0xY5sR8dW2jA7kN9oU3
JWT_REFRESH_SECRET=rf_hQ8mN1xW2kJ5pD7rT4yU9cZ3vA6bG1oQ5sM8dT2xL9zR7yP4wE1tU3kH6m

# --- Documentación / Utilidades ---
THROTTLE_TTL=60000
THROTTLE_LIMIT=50                 # Un poco más laxo en desarrollo

# --- Cookies y CSRF ---
COOKIE_SECURE=false               # HTTP plano en local
COOKIE_SAMESITE=lax
COOKIE_PREFIX_HOST=false
CSRF_ENABLED=true

# --- Red / Proxy ---
TRUST_PROXY=false

# --- Bootstrapping ---
WAIT_FOR_DB=false                 # No bloquees el arranque en local; usa scripts externos si lo necesitas
RUN_MIGRATIONS=false              # Ejecuta migraciones manualmente con npm run migration:run

# --- Seed inicial ---
# SEED_ON_BOOT: Crear admin automáticamente al iniciar la app
# - true: Crea admin si no existe ningún empleado (útil para primera vez)
# - false: No crea nada automático (crea manualmente desde el dashboard o cambia a true)
SEED_ON_BOOT=false
SEED_ADMIN_NAME=Administrador
SEED_ADMIN_EMAIL=admin@heladeria.com
SEED_ADMIN_PASSWORD=admin123
