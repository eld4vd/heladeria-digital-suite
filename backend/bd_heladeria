--
-- PostgreSQL database dump
--

\restrict jQ0y5D71dc1DWka64J3HmDCbKuoD9qBN4yXL1U020lNqcYY0oBh5BPMZuq8Mxi1

-- Dumped from database version 17.6
-- Dumped by pg_dump version 17.6

-- Started on 2025-10-24 09:18:50

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET transaction_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

--
-- TOC entry 2 (class 3079 OID 16802)
-- Name: uuid-ossp; Type: EXTENSION; Schema: -; Owner: -
--

CREATE EXTENSION IF NOT EXISTS "uuid-ossp" WITH SCHEMA public;


--
-- TOC entry 4915 (class 0 OID 0)
-- Dependencies: 2
-- Name: EXTENSION "uuid-ossp"; Type: COMMENT; Schema: -; Owner: 
--

COMMENT ON EXTENSION "uuid-ossp" IS 'generate universally unique identifiers (UUIDs)';


--
-- TOC entry 893 (class 1247 OID 16825)
-- Name: carritos_estado_enum; Type: TYPE; Schema: public; Owner: david_bases
--

CREATE TYPE public.carritos_estado_enum AS ENUM (
    'activo',
    'enviado',
    'pagado',
    'convertido',
    'cancelado'
);


ALTER TYPE public.carritos_estado_enum OWNER TO david_bases;

--
-- TOC entry 890 (class 1247 OID 16791)
-- Name: ventas_estado_enum; Type: TYPE; Schema: public; Owner: david_bases
--

CREATE TYPE public.ventas_estado_enum AS ENUM (
    'completada',
    'devolucion',
    'borrador',
    'anulada'
);


ALTER TYPE public.ventas_estado_enum OWNER TO david_bases;

--
-- TOC entry 881 (class 1247 OID 16739)
-- Name: ventas_metodo_pago_enum; Type: TYPE; Schema: public; Owner: david_bases
--

CREATE TYPE public.ventas_metodo_pago_enum AS ENUM (
    'efectivo',
    'tarjeta',
    'transferencia',
    'qr'
);


ALTER TYPE public.ventas_metodo_pago_enum OWNER TO david_bases;

SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- TOC entry 231 (class 1259 OID 17420)
-- Name: carrito_items; Type: TABLE; Schema: public; Owner: david_bases
--

CREATE TABLE public.carrito_items (
    id integer NOT NULL,
    carrito_id integer NOT NULL,
    producto_id integer NOT NULL,
    cantidad integer NOT NULL,
    subtotal numeric(10,2) NOT NULL,
    fecha_creacion timestamp without time zone DEFAULT now() NOT NULL,
    fecha_modificacion timestamp without time zone DEFAULT now() NOT NULL
);


ALTER TABLE public.carrito_items OWNER TO david_bases;

--
-- TOC entry 230 (class 1259 OID 17419)
-- Name: carrito_items_id_seq; Type: SEQUENCE; Schema: public; Owner: david_bases
--

ALTER TABLE public.carrito_items ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.carrito_items_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 229 (class 1259 OID 17410)
-- Name: carritos; Type: TABLE; Schema: public; Owner: david_bases
--

CREATE TABLE public.carritos (
    id integer NOT NULL,
    cliente_id integer,
    cliente_temp_id character varying(50),
    estado character varying(20) DEFAULT 'activo'::character varying NOT NULL,
    total numeric(10,2) DEFAULT '0'::numeric NOT NULL,
    fecha_creacion timestamp without time zone DEFAULT now() NOT NULL,
    fecha_modificacion timestamp without time zone DEFAULT now() NOT NULL,
    fecha_eliminacion timestamp without time zone
);


ALTER TABLE public.carritos OWNER TO david_bases;

--
-- TOC entry 228 (class 1259 OID 17409)
-- Name: carritos_id_seq; Type: SEQUENCE; Schema: public; Owner: david_bases
--

ALTER TABLE public.carritos ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.carritos_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 219 (class 1259 OID 16708)
-- Name: categorias; Type: TABLE; Schema: public; Owner: david_bases
--

CREATE TABLE public.categorias (
    id integer NOT NULL,
    nombre character varying(100) NOT NULL,
    descripcion text NOT NULL,
    activo boolean DEFAULT true NOT NULL,
    fecha_creacion timestamp without time zone DEFAULT now() NOT NULL,
    fecha_modificacion timestamp without time zone DEFAULT now() NOT NULL,
    fecha_eliminacion timestamp without time zone
);


ALTER TABLE public.categorias OWNER TO david_bases;

--
-- TOC entry 218 (class 1259 OID 16707)
-- Name: categorias_id_seq; Type: SEQUENCE; Schema: public; Owner: david_bases
--

ALTER TABLE public.categorias ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.categorias_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 223 (class 1259 OID 16731)
-- Name: detalles_ventas; Type: TABLE; Schema: public; Owner: david_bases
--

CREATE TABLE public.detalles_ventas (
    id integer NOT NULL,
    venta_id integer NOT NULL,
    producto_id integer NOT NULL,
    cantidad integer NOT NULL,
    precio_unitario numeric(10,2) NOT NULL,
    subtotal numeric(10,2) NOT NULL,
    fecha_creacion timestamp without time zone DEFAULT now() NOT NULL,
    fecha_modificacion timestamp without time zone DEFAULT now() NOT NULL,
    fecha_eliminacion timestamp without time zone
);


ALTER TABLE public.detalles_ventas OWNER TO david_bases;

--
-- TOC entry 222 (class 1259 OID 16730)
-- Name: detalles_ventas_id_seq; Type: SEQUENCE; Schema: public; Owner: david_bases
--

ALTER TABLE public.detalles_ventas ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.detalles_ventas_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 227 (class 1259 OID 16758)
-- Name: empleados; Type: TABLE; Schema: public; Owner: david_bases
--

CREATE TABLE public.empleados (
    id integer NOT NULL,
    nombre character varying(100) NOT NULL,
    email character varying(100) NOT NULL,
    password character varying(255) NOT NULL,
    activo boolean DEFAULT true NOT NULL,
    fecha_creacion timestamp without time zone DEFAULT now() NOT NULL,
    fecha_modificacion timestamp without time zone DEFAULT now() NOT NULL,
    fecha_eliminacion timestamp without time zone
);


ALTER TABLE public.empleados OWNER TO david_bases;

--
-- TOC entry 226 (class 1259 OID 16757)
-- Name: empleados_id_seq; Type: SEQUENCE; Schema: public; Owner: david_bases
--

ALTER TABLE public.empleados ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.empleados_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 233 (class 1259 OID 17428)
-- Name: pagos_simulados; Type: TABLE; Schema: public; Owner: david_bases
--

CREATE TABLE public.pagos_simulados (
    id integer NOT NULL,
    venta_id integer NOT NULL,
    metodo_pago character varying(20) NOT NULL,
    codigo_qr character varying(100),
    estado_pago character varying(20) DEFAULT 'pendiente'::character varying NOT NULL,
    fecha_pago timestamp without time zone,
    fecha_creacion timestamp without time zone DEFAULT now() NOT NULL
);


ALTER TABLE public.pagos_simulados OWNER TO david_bases;

--
-- TOC entry 232 (class 1259 OID 17427)
-- Name: pagos_simulados_id_seq; Type: SEQUENCE; Schema: public; Owner: david_bases
--

ALTER TABLE public.pagos_simulados ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.pagos_simulados_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 221 (class 1259 OID 16719)
-- Name: productos; Type: TABLE; Schema: public; Owner: david_bases
--

CREATE TABLE public.productos (
    id integer NOT NULL,
    nombre character varying(100) NOT NULL,
    sabor character varying(50) NOT NULL,
    precio numeric(10,2) NOT NULL,
    stock integer DEFAULT 0 NOT NULL,
    categoria_id integer NOT NULL,
    activo boolean DEFAULT true NOT NULL,
    fecha_creacion timestamp without time zone DEFAULT now() NOT NULL,
    fecha_modificacion timestamp without time zone DEFAULT now() NOT NULL,
    fecha_eliminacion timestamp without time zone,
    descripcion text,
    imagen_url character varying(500)
);


ALTER TABLE public.productos OWNER TO david_bases;

--
-- TOC entry 220 (class 1259 OID 16718)
-- Name: productos_id_seq; Type: SEQUENCE; Schema: public; Owner: david_bases
--

ALTER TABLE public.productos ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.productos_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 225 (class 1259 OID 16748)
-- Name: ventas; Type: TABLE; Schema: public; Owner: david_bases
--

CREATE TABLE public.ventas (
    id integer NOT NULL,
    total numeric(10,2) NOT NULL,
    metodo_pago public.ventas_metodo_pago_enum NOT NULL,
    cliente_nombre character varying(100),
    notas text,
    empleado_id integer,
    fecha_creacion timestamp without time zone DEFAULT now() NOT NULL,
    fecha_modificacion timestamp without time zone DEFAULT now() NOT NULL,
    fecha_eliminacion timestamp without time zone,
    empleado_nombre_snapshot character varying(120) DEFAULT ''::character varying NOT NULL,
    estado public.ventas_estado_enum DEFAULT 'completada'::public.ventas_estado_enum NOT NULL,
    fecha_hora timestamp with time zone DEFAULT now() NOT NULL,
    fecha_venta timestamp without time zone,
    origen character varying(20) DEFAULT 'caja'::character varying NOT NULL
);


ALTER TABLE public.ventas OWNER TO david_bases;

--
-- TOC entry 224 (class 1259 OID 16747)
-- Name: ventas_id_seq; Type: SEQUENCE; Schema: public; Owner: david_bases
--

ALTER TABLE public.ventas ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.ventas_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 4907 (class 0 OID 17420)
-- Dependencies: 231
-- Data for Name: carrito_items; Type: TABLE DATA; Schema: public; Owner: david_bases
--

COPY public.carrito_items (id, carrito_id, producto_id, cantidad, subtotal, fecha_creacion, fecha_modificacion) FROM stdin;
2	1	10	3	30.00	2025-10-20 23:38:25.839794	2025-10-20 23:38:31.850212
3	1	4	1	47.00	2025-10-20 23:38:37.711367	2025-10-20 23:38:37.711367
4	2	5	1	52.00	2025-10-21 00:14:44.092579	2025-10-21 00:14:44.092579
5	2	3	1	43.00	2025-10-21 00:14:46.764406	2025-10-21 00:14:46.764406
6	2	10	1	10.00	2025-10-21 00:14:49.137811	2025-10-21 00:14:49.137811
\.


--
-- TOC entry 4905 (class 0 OID 17410)
-- Dependencies: 229
-- Data for Name: carritos; Type: TABLE DATA; Schema: public; Owner: david_bases
--

COPY public.carritos (id, cliente_id, cliente_temp_id, estado, total, fecha_creacion, fecha_modificacion, fecha_eliminacion) FROM stdin;
1	\N	d709f7cb-f3f4-4a9b-9ddb-6e5d9bac2644	pagado	77.00	2025-10-20 10:21:55.147152	2025-10-20 23:43:10.341361	\N
2	\N	d709f7cb-f3f4-4a9b-9ddb-6e5d9bac2644	pagado	105.00	2025-10-21 00:14:43.909935	2025-10-21 00:15:18.973592	\N
\.


--
-- TOC entry 4895 (class 0 OID 16708)
-- Dependencies: 219
-- Data for Name: categorias; Type: TABLE DATA; Schema: public; Owner: david_bases
--

COPY public.categorias (id, nombre, descripcion, activo, fecha_creacion, fecha_modificacion, fecha_eliminacion) FROM stdin;
1	Cremosos	Helados con base de crema	t	2025-08-01 19:05:34.940264	2025-08-01 19:05:34.940264	\N
2	Frutas	Helados con base de frutas	t	2025-08-01 19:05:49.362022	2025-08-01 19:05:49.362022	\N
3	Sin azúcar	Helados especiales para personas que prefieren productos sin azúcar añadido.	t	2025-08-03 01:22:11.922444	2025-08-03 01:22:11.922444	\N
4	Veganos	Helados elaborados sin ingredientes de origen animal, ideales para dietas veganas o intolerancia a la lactosa.	t	2025-08-03 01:22:22.220433	2025-08-03 01:22:22.220433	\N
5	Especialidades	Categoría para helados gourmet o de edición limitada, con combinaciones únicas de sabores.	t	2025-08-03 01:22:30.341267	2025-08-03 01:22:30.341267	\N
6	Clásicos	Sabores tradicionales que nunca fallan, como vainilla, chocolate o fresa.	t	2025-08-03 01:22:40.957278	2025-08-03 01:22:40.957278	\N
8	prueba125143	543	t	2025-08-24 02:32:13.133642	2025-08-24 02:35:25.627205	2025-08-24 02:35:25.627205
7	prueba123	54134fdsgd	t	2025-08-24 02:09:57.346493	2025-08-24 02:35:28.659306	2025-08-24 02:35:28.659306
10	asdsa	sdsd	t	2025-08-24 02:45:48.29725	2025-08-24 02:46:38.242978	2025-08-24 02:46:38.242978
9	preunba	fdsgfrdsge	t	2025-08-24 02:44:22.043393	2025-08-24 02:46:45.201879	2025-08-24 02:46:45.201879
11	Prueba123	qwerty	t	2025-08-24 02:57:45.988381	2025-09-05 23:47:14.128663	2025-09-05 23:47:14.128663
12	prueba123	prueba12414	t	2025-09-22 11:23:43.19049	2025-09-22 11:24:05.534405	2025-09-22 11:24:05.534405
13	Prueba12214	eqwewqeqw	t	2025-09-22 11:24:13.475595	2025-09-22 11:24:20.036043	2025-09-22 11:24:20.036043
15	preur	agad	t	2025-09-22 11:28:39.767799	2025-09-22 11:28:44.997909	2025-09-22 11:28:44.997909
14	313431	eqwew	t	2025-09-22 11:24:33.150503	2025-10-19 22:24:39.336239	2025-10-19 22:24:39.336239
\.


--
-- TOC entry 4899 (class 0 OID 16731)
-- Dependencies: 223
-- Data for Name: detalles_ventas; Type: TABLE DATA; Schema: public; Owner: david_bases
--

COPY public.detalles_ventas (id, venta_id, producto_id, cantidad, precio_unitario, subtotal, fecha_creacion, fecha_modificacion, fecha_eliminacion) FROM stdin;
2	2	9	5	41.00	205.00	2025-08-30 00:59:44.451696	2025-08-30 00:59:44.451696	\N
3	2	1	2	45.00	90.00	2025-08-30 00:59:44.644648	2025-08-30 01:19:53.249629	\N
4	2	4	2	47.00	94.00	2025-08-30 01:27:15.559204	2025-08-30 01:27:15.559204	\N
1	1	5	1	52.00	52.00	2025-08-30 00:12:54.54244	2025-08-30 01:40:18.18137	2025-08-30 01:40:18.18137
5	1	7	10	50.00	500.00	2025-08-30 01:40:37.221565	2025-08-30 01:40:37.221565	\N
6	3	9	3	41.00	123.00	2025-09-01 22:28:20.627107	2025-09-01 22:28:20.627107	\N
7	4	6	1	41.00	41.00	2025-09-01 22:29:26.268286	2025-09-01 22:29:26.268286	\N
8	5	6	1	41.00	41.00	2025-09-01 22:31:08.623865	2025-09-01 22:31:08.623865	\N
9	6	6	1	41.00	41.00	2025-09-01 22:36:14.920295	2025-09-01 22:36:14.920295	\N
10	7	5	2	52.00	104.00	2025-09-01 22:47:57.592373	2025-09-01 22:47:57.592373	\N
11	10	1	1	45.00	45.00	2025-09-01 22:57:13.775749	2025-09-01 22:57:13.775749	\N
12	11	10	5	10.00	50.00	2025-09-05 01:13:13.454109	2025-09-05 01:13:13.454109	\N
13	12	10	4	10.00	40.00	2025-09-05 01:13:49.273441	2025-09-05 01:13:49.273441	\N
14	13	4	14	47.00	658.00	2025-09-06 00:19:40.055944	2025-09-06 00:19:40.055944	\N
15	14	2	1	40.00	40.00	2025-09-08 15:44:44.182231	2025-09-08 15:44:44.182231	\N
16	14	7	1	50.00	50.00	2025-09-08 15:44:44.182231	2025-09-08 15:44:44.182231	\N
17	15	9	1	41.00	41.00	2025-09-08 17:13:59.422177	2025-09-08 17:13:59.422177	\N
18	15	10	1	10.00	10.00	2025-09-08 17:13:59.540297	2025-09-08 17:13:59.540297	\N
19	15	10	1	10.00	10.00	2025-09-08 17:14:28.076299	2025-09-08 17:14:28.076299	\N
20	16	10	4	10.00	40.00	2025-09-22 11:29:39.217224	2025-09-22 11:29:39.217224	\N
21	17	10	3	10.00	30.00	2025-10-15 09:50:07.236233	2025-10-15 09:50:07.236233	\N
22	18	10	1	10.00	10.00	2025-10-15 09:51:07.843535	2025-10-15 09:51:07.843535	\N
23	19	10	2	10.00	20.00	2025-10-15 09:58:31.587539	2025-10-15 09:58:31.587539	\N
24	20	10	3	10.00	30.00	2025-10-20 23:43:10.341361	2025-10-20 23:43:10.341361	\N
25	20	4	1	47.00	47.00	2025-10-20 23:43:10.341361	2025-10-20 23:43:10.341361	\N
26	21	10	2	10.00	20.00	2025-10-20 23:53:21.098292	2025-10-20 23:53:21.098292	\N
27	22	5	1	52.00	52.00	2025-10-21 00:15:18.973592	2025-10-21 00:15:18.973592	\N
28	22	3	1	43.00	43.00	2025-10-21 00:15:18.973592	2025-10-21 00:15:18.973592	\N
29	22	10	1	10.00	10.00	2025-10-21 00:15:18.973592	2025-10-21 00:15:18.973592	\N
30	23	10	4	10.00	40.00	2025-10-21 00:17:43.5157	2025-10-21 00:17:43.5157	\N
31	23	2	1	40.00	40.00	2025-10-21 00:17:43.77595	2025-10-21 00:17:43.77595	\N
32	23	7	2	50.00	100.00	2025-10-21 00:17:43.993464	2025-10-21 00:17:43.993464	\N
\.


--
-- TOC entry 4903 (class 0 OID 16758)
-- Dependencies: 227
-- Data for Name: empleados; Type: TABLE DATA; Schema: public; Owner: david_bases
--

COPY public.empleados (id, nombre, email, password, activo, fecha_creacion, fecha_modificacion, fecha_eliminacion) FROM stdin;
1	prueba	prueba@gmail.com	efc53c5c5dda5b6b7a17c5b5b5b5b5b5b5b5b5b5b5b5b5b5b5b5b5b5b5b5b5b	t	2025-08-26 08:58:44.301405	2025-08-26 08:58:44.301405	\N
2	Prueba1	prueba123@gmail.com	$2b$12$gdhuBCQt5EOideq6FrPlIetcy1JhTZ4VYdL0k1VleQLBG7ic3PbwG	t	2025-08-26 09:22:28.338934	2025-08-26 09:22:28.338934	\N
3	prueba999	prueba999@gmail.com	hola123	t	2025-08-01 03:33:34.793291	2025-08-02 23:47:36.918697	\N
4	Sebastian	Sebastian@gmail.com	$2b$12$njgtxDjMK38INgZvs3bSseNGr61zCZQRk/Yc0tDTlWeZ52jFEWmLu	t	2025-08-03 01:34:32.179481	2025-08-03 01:34:32.179481	\N
\.


--
-- TOC entry 4909 (class 0 OID 17428)
-- Dependencies: 233
-- Data for Name: pagos_simulados; Type: TABLE DATA; Schema: public; Owner: david_bases
--

COPY public.pagos_simulados (id, venta_id, metodo_pago, codigo_qr, estado_pago, fecha_pago, fecha_creacion) FROM stdin;
1	20	QR	QR-1761018191410-ULFQDBNPU	completado	2025-10-20 23:43:11.41	2025-10-20 23:43:10.341361
2	22	Débito	\N	completado	2025-10-21 00:15:19.567	2025-10-21 00:15:18.973592
\.


--
-- TOC entry 4897 (class 0 OID 16719)
-- Dependencies: 221
-- Data for Name: productos; Type: TABLE DATA; Schema: public; Owner: david_bases
--

COPY public.productos (id, nombre, sabor, precio, stock, categoria_id, activo, fecha_creacion, fecha_modificacion, fecha_eliminacion, descripcion, imagen_url) FROM stdin;
9	Helado Limón Siciliano	limon	41.00	13	1	t	2025-08-28 23:22:04.025184	2025-09-08 17:13:59.422177	\N	\N	\N
8	Helado Vegano de Coco	Coco	48.00	70	4	f	2025-08-03 01:25:54.908869	2025-08-29 23:24:37.889155	\N	\N	\N
6	Helado Sin Azúcar de Maracuyá	Maracuyá	41.00	49	3	t	2025-08-03 01:25:30.418049	2025-09-01 22:36:14.9753	\N	\N	\N
1	Helado Chocolate Suizo	Chocolate	45.00	79	1	t	2025-08-02 00:58:41.953473	2025-09-01 22:57:13.775749	\N	\N	\N
4	Helado de Dulce de Leche	Dulce de leche	47.00	80	6	t	2025-08-03 01:24:59.475149	2025-10-20 23:43:10.341361	\N	\N	\N
5	Helado Especial de Pistacho y Miel	Pistacho y miel	52.00	37	5	t	2025-08-03 01:25:11.247438	2025-10-21 00:15:18.973592	\N	\N	\N
3	Helado Fresa de Temporada	Fresa	43.00	39	1	t	2025-08-02 00:59:00.494602	2025-10-21 00:15:18.973592	\N	\N	\N
10	Helado de Canela	Canela	10.00	9	5	t	2025-09-05 00:55:43.713229	2025-10-21 00:17:43.5157	\N	\N	https://i.imgur.com/yxZ9Dsw.png
2	Helado Sorbete de Limón Orgánico	Limón	40.00	43	2	t	2025-08-02 00:58:51.604611	2025-10-21 00:17:43.77595	\N	\N	\N
7	Helado Vegano de Almendra	Almendra	50.00	57	4	t	2025-08-03 01:25:45.990901	2025-10-21 00:17:43.993464	\N	\N	\N
\.


--
-- TOC entry 4901 (class 0 OID 16748)
-- Dependencies: 225
-- Data for Name: ventas; Type: TABLE DATA; Schema: public; Owner: david_bases
--

COPY public.ventas (id, total, metodo_pago, cliente_nombre, notas, empleado_id, fecha_creacion, fecha_modificacion, fecha_eliminacion, empleado_nombre_snapshot, estado, fecha_hora, fecha_venta, origen) FROM stdin;
2	389.00	efectivo			2	2025-08-30 00:59:44.384225	2025-08-30 01:27:15.660697	\N		completada	2025-10-15 09:32:38.429021-04	\N	caja
1	500.00	efectivo	Pepito	venta de 5 helados	2	2025-08-29 23:58:46.164618	2025-08-30 01:40:37.314799	\N		completada	2025-10-15 09:32:38.429021-04	\N	caja
3	123.00	efectivo	Pedro		2	2025-09-01 22:28:20.557618	2025-09-01 22:28:20.557618	\N		completada	2025-10-15 09:32:38.429021-04	\N	caja
4	41.00	qr			2	2025-09-01 22:29:26.244012	2025-09-01 22:29:26.244012	\N		completada	2025-10-15 09:32:38.429021-04	\N	caja
5	41.00	efectivo			2	2025-09-01 22:31:08.592518	2025-09-01 22:31:08.592518	\N		completada	2025-10-15 09:32:38.429021-04	\N	caja
6	41.00	efectivo	David		2	2025-09-01 22:36:14.864715	2025-09-01 22:36:14.864715	\N		completada	2025-10-15 09:32:38.429021-04	\N	caja
7	104.00	efectivo	Pepito grillo		2	2025-09-01 22:47:57.528114	2025-09-01 22:47:57.592373	\N		completada	2025-10-15 09:32:38.429021-04	\N	caja
8	2080.00	tarjeta	Careaga		2	2025-09-01 22:49:00.24076	2025-09-01 22:49:00.24076	\N		completada	2025-10-15 09:32:38.429021-04	\N	caja
9	4100.00	efectivo	asfdfdsfwe		2	2025-09-01 22:52:29.202815	2025-09-01 22:52:29.202815	\N		completada	2025-10-15 09:32:38.429021-04	\N	caja
10	45.00	efectivo			2	2025-09-01 22:57:13.747778	2025-09-01 22:57:13.775749	\N		completada	2025-10-15 09:32:38.429021-04	\N	caja
11	50.00	efectivo			2	2025-09-05 01:13:13.407815	2025-09-05 01:13:13.454109	\N	Prueba1	completada	2025-10-15 09:32:38.429021-04	\N	caja
12	40.00	qr	Agustin	Pago con QR	2	2025-09-05 01:13:49.242905	2025-09-05 01:13:49.273441	\N	Prueba1	completada	2025-10-15 09:32:38.429021-04	\N	caja
13	658.00	tarjeta	Jose David	Pago con Tarjeta de debito	2	2025-09-06 00:19:40.007465	2025-09-06 00:19:40.055944	\N	Prueba1	completada	2025-10-15 09:32:38.429021-04	\N	caja
14	90.00	qr	Lucas	dss	1	2025-09-08 15:44:44.182231	2025-09-08 15:44:44.182231	\N	prueba	completada	2025-10-15 09:32:38.429021-04	\N	caja
15	61.00	tarjeta	Alfredo	Pago simple tarjeta bnb	2	2025-09-08 17:13:59.366134	2025-09-08 17:14:28.289445	\N	Prueba1	completada	2025-10-15 09:32:38.429021-04	\N	caja
16	40.00	tarjeta	Pepito	Pago con tarjeta	2	2025-09-22 11:29:39.122133	2025-09-22 11:29:39.217224	\N	Prueba1	completada	2025-10-15 09:32:38.429021-04	\N	caja
17	30.00	tarjeta	pepito	\N	2	2025-10-15 09:50:07.159434	2025-10-15 09:50:07.159434	\N	Prueba1	completada	2025-10-15 09:50:07.154-04	2025-10-20 10:49:00	caja
18	10.00	tarjeta	pepito2222	\N	2	2025-10-15 09:51:07.808249	2025-10-15 09:51:07.808249	\N	Prueba1	completada	2025-10-15 09:51:07.806-04	2025-10-15 09:50:00	caja
19	20.00	transferencia	pepito345343	sadsad	2	2025-10-15 09:58:31.545469	2025-10-15 09:58:31.545469	\N	Prueba1	completada	2025-10-15 09:58:31.543-04	2025-10-15 09:58:00	caja
20	77.00	qr	Pepito	Pedido web - Delivery | Dirección: sdsds | Tel: 87845	\N	2025-10-20 23:43:10.341361	2025-10-20 23:43:10.341361	\N	Sistema Web	completada	2025-10-20 23:43:11.027-04	2025-10-20 23:43:11.027	web
21	20.00	qr	juan123	En caja	2	2025-10-20 23:53:21.044234	2025-10-20 23:53:21.044234	\N	Prueba1	completada	2025-10-20 23:53:21.04-04	2025-10-20 23:52:00	caja
22	105.00	tarjeta	David	Pedido web - Delivery | Dirección: Marzana | Tel: 78674454	\N	2025-10-21 00:15:18.973592	2025-10-21 00:15:18.973592	\N	Sistema Web	completada	2025-10-21 00:15:19.386-04	2025-10-21 00:15:19.386	web
23	180.00	transferencia	Juan	En caja	2	2025-10-21 00:17:43.362026	2025-10-21 00:17:43.993464	\N	Prueba1	completada	2025-10-21 00:17:43.319-04	2025-10-21 00:16:00	caja
\.


--
-- TOC entry 4916 (class 0 OID 0)
-- Dependencies: 230
-- Name: carrito_items_id_seq; Type: SEQUENCE SET; Schema: public; Owner: david_bases
--

SELECT pg_catalog.setval('public.carrito_items_id_seq', 6, true);


--
-- TOC entry 4917 (class 0 OID 0)
-- Dependencies: 228
-- Name: carritos_id_seq; Type: SEQUENCE SET; Schema: public; Owner: david_bases
--

SELECT pg_catalog.setval('public.carritos_id_seq', 2, true);


--
-- TOC entry 4918 (class 0 OID 0)
-- Dependencies: 218
-- Name: categorias_id_seq; Type: SEQUENCE SET; Schema: public; Owner: david_bases
--

SELECT pg_catalog.setval('public.categorias_id_seq', 15, true);


--
-- TOC entry 4919 (class 0 OID 0)
-- Dependencies: 222
-- Name: detalles_ventas_id_seq; Type: SEQUENCE SET; Schema: public; Owner: david_bases
--

SELECT pg_catalog.setval('public.detalles_ventas_id_seq', 32, true);


--
-- TOC entry 4920 (class 0 OID 0)
-- Dependencies: 226
-- Name: empleados_id_seq; Type: SEQUENCE SET; Schema: public; Owner: david_bases
--

SELECT pg_catalog.setval('public.empleados_id_seq', 4, true);


--
-- TOC entry 4921 (class 0 OID 0)
-- Dependencies: 232
-- Name: pagos_simulados_id_seq; Type: SEQUENCE SET; Schema: public; Owner: david_bases
--

SELECT pg_catalog.setval('public.pagos_simulados_id_seq', 2, true);


--
-- TOC entry 4922 (class 0 OID 0)
-- Dependencies: 220
-- Name: productos_id_seq; Type: SEQUENCE SET; Schema: public; Owner: david_bases
--

SELECT pg_catalog.setval('public.productos_id_seq', 10, true);


--
-- TOC entry 4923 (class 0 OID 0)
-- Dependencies: 224
-- Name: ventas_id_seq; Type: SEQUENCE SET; Schema: public; Owner: david_bases
--

SELECT pg_catalog.setval('public.ventas_id_seq', 23, true);


--
-- TOC entry 4725 (class 2606 OID 16729)
-- Name: productos PK_04f604609a0949a7f3b43400766; Type: CONSTRAINT; Schema: public; Owner: david_bases
--

ALTER TABLE ONLY public.productos
    ADD CONSTRAINT "PK_04f604609a0949a7f3b43400766" PRIMARY KEY (id);


--
-- TOC entry 4723 (class 2606 OID 16717)
-- Name: categorias PK_3886a26251605c571c6b4f861fe; Type: CONSTRAINT; Schema: public; Owner: david_bases
--

ALTER TABLE ONLY public.categorias
    ADD CONSTRAINT "PK_3886a26251605c571c6b4f861fe" PRIMARY KEY (id);


--
-- TOC entry 4733 (class 2606 OID 16765)
-- Name: empleados PK_73a63a6fcb4266219be3eb0ce8a; Type: CONSTRAINT; Schema: public; Owner: david_bases
--

ALTER TABLE ONLY public.empleados
    ADD CONSTRAINT "PK_73a63a6fcb4266219be3eb0ce8a" PRIMARY KEY (id);


--
-- TOC entry 4741 (class 2606 OID 17434)
-- Name: pagos_simulados PK_aba359711e2092f542758fdf7f9; Type: CONSTRAINT; Schema: public; Owner: david_bases
--

ALTER TABLE ONLY public.pagos_simulados
    ADD CONSTRAINT "PK_aba359711e2092f542758fdf7f9" PRIMARY KEY (id);


--
-- TOC entry 4731 (class 2606 OID 16756)
-- Name: ventas PK_b8b73abe8561829c019531d9a2e; Type: CONSTRAINT; Schema: public; Owner: david_bases
--

ALTER TABLE ONLY public.ventas
    ADD CONSTRAINT "PK_b8b73abe8561829c019531d9a2e" PRIMARY KEY (id);


--
-- TOC entry 4727 (class 2606 OID 16737)
-- Name: detalles_ventas PK_c70a4d63e173e61fc45ae39b145; Type: CONSTRAINT; Schema: public; Owner: david_bases
--

ALTER TABLE ONLY public.detalles_ventas
    ADD CONSTRAINT "PK_c70a4d63e173e61fc45ae39b145" PRIMARY KEY (id);


--
-- TOC entry 4737 (class 2606 OID 17418)
-- Name: carritos PK_d8d9c9ccd4a7e2ccc28a788dad4; Type: CONSTRAINT; Schema: public; Owner: david_bases
--

ALTER TABLE ONLY public.carritos
    ADD CONSTRAINT "PK_d8d9c9ccd4a7e2ccc28a788dad4" PRIMARY KEY (id);


--
-- TOC entry 4739 (class 2606 OID 17426)
-- Name: carrito_items PK_ff4c14fd0a3691d5f7b86a326d4; Type: CONSTRAINT; Schema: public; Owner: david_bases
--

ALTER TABLE ONLY public.carrito_items
    ADD CONSTRAINT "PK_ff4c14fd0a3691d5f7b86a326d4" PRIMARY KEY (id);


--
-- TOC entry 4735 (class 2606 OID 16767)
-- Name: empleados UQ_a5c9113abdd7c58a22902081191; Type: CONSTRAINT; Schema: public; Owner: david_bases
--

ALTER TABLE ONLY public.empleados
    ADD CONSTRAINT "UQ_a5c9113abdd7c58a22902081191" UNIQUE (email);


--
-- TOC entry 4728 (class 1259 OID 17315)
-- Name: IDX_a2e5bea879f58c99d3e7eab269; Type: INDEX; Schema: public; Owner: david_bases
--

CREATE INDEX "IDX_a2e5bea879f58c99d3e7eab269" ON public.ventas USING btree (fecha_hora);


--
-- TOC entry 4729 (class 1259 OID 16801)
-- Name: IDX_e6dd7c58469563493fb7be8888; Type: INDEX; Schema: public; Owner: david_bases
--

CREATE INDEX "IDX_e6dd7c58469563493fb7be8888" ON public.ventas USING btree (estado);


--
-- TOC entry 4743 (class 2606 OID 16773)
-- Name: detalles_ventas FK_04c9914aaffaeadf71a4a9746c3; Type: FK CONSTRAINT; Schema: public; Owner: david_bases
--

ALTER TABLE ONLY public.detalles_ventas
    ADD CONSTRAINT "FK_04c9914aaffaeadf71a4a9746c3" FOREIGN KEY (venta_id) REFERENCES public.ventas(id);


--
-- TOC entry 4748 (class 2606 OID 17445)
-- Name: pagos_simulados FK_08c0f9b0df09f8a798cbe8704af; Type: FK CONSTRAINT; Schema: public; Owner: david_bases
--

ALTER TABLE ONLY public.pagos_simulados
    ADD CONSTRAINT "FK_08c0f9b0df09f8a798cbe8704af" FOREIGN KEY (venta_id) REFERENCES public.ventas(id);


--
-- TOC entry 4744 (class 2606 OID 16778)
-- Name: detalles_ventas FK_217ecb495d9f2e0d3131c2f17a1; Type: FK CONSTRAINT; Schema: public; Owner: david_bases
--

ALTER TABLE ONLY public.detalles_ventas
    ADD CONSTRAINT "FK_217ecb495d9f2e0d3131c2f17a1" FOREIGN KEY (producto_id) REFERENCES public.productos(id);


--
-- TOC entry 4742 (class 2606 OID 16768)
-- Name: productos FK_5aaee6054b643e7c778477193a3; Type: FK CONSTRAINT; Schema: public; Owner: david_bases
--

ALTER TABLE ONLY public.productos
    ADD CONSTRAINT "FK_5aaee6054b643e7c778477193a3" FOREIGN KEY (categoria_id) REFERENCES public.categorias(id);


--
-- TOC entry 4746 (class 2606 OID 17435)
-- Name: carrito_items FK_74625516f306feb34eea90fcab0; Type: FK CONSTRAINT; Schema: public; Owner: david_bases
--

ALTER TABLE ONLY public.carrito_items
    ADD CONSTRAINT "FK_74625516f306feb34eea90fcab0" FOREIGN KEY (carrito_id) REFERENCES public.carritos(id);


--
-- TOC entry 4745 (class 2606 OID 16783)
-- Name: ventas FK_855ce47d5310788db75d901f9c1; Type: FK CONSTRAINT; Schema: public; Owner: david_bases
--

ALTER TABLE ONLY public.ventas
    ADD CONSTRAINT "FK_855ce47d5310788db75d901f9c1" FOREIGN KEY (empleado_id) REFERENCES public.empleados(id);


--
-- TOC entry 4747 (class 2606 OID 17440)
-- Name: carrito_items FK_f611eb69a22f7f7a05fe602a208; Type: FK CONSTRAINT; Schema: public; Owner: david_bases
--

ALTER TABLE ONLY public.carrito_items
    ADD CONSTRAINT "FK_f611eb69a22f7f7a05fe602a208" FOREIGN KEY (producto_id) REFERENCES public.productos(id);


-- Completed on 2025-10-24 09:18:50

--
-- PostgreSQL database dump complete
--

\unrestrict jQ0y5D71dc1DWka64J3HmDCbKuoD9qBN4yXL1U020lNqcYY0oBh5BPMZuq8Mxi1

